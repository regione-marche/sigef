using System;
using System.Collections.Generic;
using System.Text;

namespace SiarLibrary.NotAutogeneratedClasses
{
    public class RiepilogoBandiCollectionProvider
    {
        public RiepilogoBandiCollectionProvider() { }

        DbProvider db = new DbProvider();
        System.Data.IDbCommand cmd;
        public RiepilogoBandiCollection GetRiepilogoBandi(SiarLibrary.NullTypes.IntNT idBando, SiarLibrary.NullTypes.IntNT idProgrammazione, SiarLibrary.NullTypes.StringNT codStato)
        {
            RiepilogoBandiCollection riepilogo = new RiepilogoBandiCollection();
            cmd = db.GetCommand();
            cmd.CommandType = System.Data.CommandType.StoredProcedure;
            cmd.CommandText = "SpReportisticaBandi_Riepilogo";
            if (idBando != null) cmd.Parameters.Add(new System.Data.SqlClient.SqlParameter("ID_BANDO", idBando.Value));
            if (idProgrammazione != null) cmd.Parameters.Add(new System.Data.SqlClient.SqlParameter("ID_PROGRAMMAZIONE", idProgrammazione.Value));
            if (codStato != null) cmd.Parameters.Add(new System.Data.SqlClient.SqlParameter("COD_STATO", codStato.Value)); 
            db.InitDatareader(cmd);
            while (db.DataReader.Read())
            {
                riepilogo.Add(new RiepilogoBandi(db));
            }
            db.Close();
            return riepilogo;
        }

        
    }

    public class RiepilogoBandi : SiarLibrary.BaseObject
    {
        private SiarLibrary.NullTypes.IntNT _idBando;
        private SiarLibrary.NullTypes.StringNT _descrizione;
        private SiarLibrary.NullTypes.DatetimeNT _dataScadenza;
        private SiarLibrary.NullTypes.BoolNT _disposizioniAttuative;
        private SiarLibrary.NullTypes.DecimalNT _totaleCostoInvestimenti;
        private SiarLibrary.NullTypes.DecimalNT _totaleContributoRichiesto;
        private SiarLibrary.NullTypes.IntNT _numeroDomandePresentate;
        private SiarLibrary.NullTypes.DecimalNT _totaleContoInteressi;

        public SiarLibrary.NullTypes.IntNT IdBando
        {
            get { return _idBando; }
            set { _idBando = value; }
        }
        public SiarLibrary.NullTypes.StringNT Descrizione
        {
            get { return _descrizione; }
            set { _descrizione = value; }
        }
        public SiarLibrary.NullTypes.DatetimeNT DataScadenza
        {
            get { return _dataScadenza; }
            set { _dataScadenza = value; }
        }
        public SiarLibrary.NullTypes.BoolNT DisposizioniAttuative
        {
            get { return _disposizioniAttuative; }
            set { _disposizioniAttuative = value; }
        }
        public SiarLibrary.NullTypes.DecimalNT TotaleCostoInvestimenti
        {
            get { return _totaleCostoInvestimenti; }
            set { _totaleCostoInvestimenti = value; }
        }
        public SiarLibrary.NullTypes.DecimalNT TotaleContributoRichiesto
        {
            get { return _totaleContributoRichiesto; }
            set { _totaleContributoRichiesto = value; }
        }

        public SiarLibrary.NullTypes.IntNT NumeroDomandePresentate
        {
            get { return _numeroDomandePresentate; }
            set { _numeroDomandePresentate = value; }
        }


        public SiarLibrary.NullTypes.DecimalNT TotaleContoInteressi
        {
            get { return _totaleContoInteressi; }
            set { _totaleContoInteressi = value; }
        }
        public RiepilogoBandi(SiarLibrary.DbProvider db)
        {
            _idBando = new SiarLibrary.NullTypes.IntNT(db.DataReader["ID_BANDO"]);
            _descrizione = new SiarLibrary.NullTypes.StringNT(db.DataReader["DESCRIZIONE"]);
            _dataScadenza = new SiarLibrary.NullTypes.DatetimeNT(db.DataReader["DATA_SCADENZA"]);
            _disposizioniAttuative = new SiarLibrary.NullTypes.BoolNT(db.DataReader["DISPOSIZIONI_ATTUATIVE"]);
            _totaleCostoInvestimenti = new SiarLibrary.NullTypes.DecimalNT(db.DataReader["TOTALE_INVESTIMENTI"]);
            _totaleContributoRichiesto = new SiarLibrary.NullTypes.DecimalNT(db.DataReader["TOTALE_CONTRIBUTO"]);
            _numeroDomandePresentate = new SiarLibrary.NullTypes.IntNT(db.DataReader["NUM_DOMANDE"]);
            _totaleContoInteressi = new SiarLibrary.NullTypes.DecimalNT(db.DataReader["TOT_INTERESSI"]);
        }
    }

    public class RiepilogoBandiCollection : SiarLibrary.CustomCollection
    {
        private RiepilogoBandiCollection(System.Runtime.Serialization.SerializationInfo info, System.Runtime.Serialization.StreamingContext context)
            : this()
        {
            int c = info.GetInt32("_count");
            for (int i = 0; i < c; i++)
            {
                this.Add((RiepilogoBandi)info.GetValue(i.ToString(), typeof(RiepilogoBandi)));
            }
        }

        //Costruttore
        public RiepilogoBandiCollection()
        {
            this.ItemType = typeof(RiepilogoBandi);
        }

        //Get e Set
        public new RiepilogoBandi this[int index]
        {
            get { return (RiepilogoBandi)(base[index]); }
            set
            {
                base[index] = value;
            }
        }

        public new RiepilogoBandiCollection GetChanges()
        {
            return (RiepilogoBandiCollection)base.GetChanges();
        }

        //Add
        public int Add(RiepilogoBandi RiepilogoBandiObj)
        {
            return base.Add(RiepilogoBandiObj);
        }

        //AddCollection
        public void AddCollection(RiepilogoBandiCollection RiepilogoBandiCollectionObj)
        {
            foreach (RiepilogoBandi RiepilogoBandi in RiepilogoBandiCollectionObj)
                this.Add(RiepilogoBandi);
        }

        public void Insert(int index, RiepilogoBandi RiepilogoBandiObj)
        {

            base.Insert(index, RiepilogoBandiObj);
        }

    }
}

