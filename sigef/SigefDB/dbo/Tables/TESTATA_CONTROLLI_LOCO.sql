CREATE TABLE [dbo].[TESTATA_CONTROLLI_LOCO] (
    [ID_TESTATA]                    INT            IDENTITY (1, 1) NOT NULL,
    [DATA_INSERIMENTO]              DATETIME       CONSTRAINT [DF_TESTATA_CONTROLLI_LOCO_DATA_INSERIMENTO] DEFAULT (getdate()) NULL,
    [CF_INSERIMENTO]                VARCHAR (50)   NULL,
    [DATA_MODIFICA]                 DATETIME       CONSTRAINT [DF_TESTATA_CONTROLLI_LOCO_DATA_MODIFICA] DEFAULT (getdate()) NULL,
    [CF_MODIFICA]                   VARCHAR (50)   NULL,
    [DATA_SOPRALLUOGO]              DATETIME       CONSTRAINT [DF_TESTATA_CONTROLLI_LOCO_DATA_SOPRALLUOGO] DEFAULT (getdate()) NULL,
    [LUOGO_SOPRALLUOGO]             VARCHAR (3000) NULL,
    [ID_ISTANZA_CHECKLIST_GENERICA] INT            NULL,
    [IDLOCO_DETTAGLIO]              INT            NULL,
    [ESITO_TESTATA]                 BIT            NULL,
    [ID_FILE_VERBALE]               INT            NULL,
    [DATA_VERBALE]                  DATETIME       NULL,
    [ID_FILE_ATTESTAZIONE]          INT            NULL,
    [DATA_ATTESTAZIONE]             DATETIME       NULL,
    [SEGNATURA_TESTATA]             VARCHAR (1000) NULL,
    [DATA_SEGNATURA]                DATETIME       NULL,
    [ID_UTENTE_COMPILATORE]         INT            NULL,
    [ID_UTENTE_VALIDATORE]          INT            NULL,
    CONSTRAINT [PK_TESTATA_CONTROLLI_LOCO] PRIMARY KEY CLUSTERED ([ID_TESTATA] ASC),
    CONSTRAINT [FK_TESTATA_CONTROLLI_LOCO_CntrLoco_Dettaglio] FOREIGN KEY ([IDLOCO_DETTAGLIO]) REFERENCES [dbo].[CntrLoco_Dettaglio] ([IdLoco_Dettaglio]),
    CONSTRAINT [FK_TESTATA_CONTROLLI_LOCO_ISTANZA_CHECKLIST] FOREIGN KEY ([ID_ISTANZA_CHECKLIST_GENERICA]) REFERENCES [dbo].[ISTANZA_CHECKLIST_GENERICA] ([ID_ISTANZA_GENERICA]),
    CONSTRAINT [FK_TESTATA_CONTROLLI_LOCO_UTENTI_COMPILATORE] FOREIGN KEY ([ID_UTENTE_COMPILATORE]) REFERENCES [dbo].[UTENTI] ([ID_UTENTE]),
    CONSTRAINT [FK_TESTATA_CONTROLLI_LOCO_UTENTI_VALIDATORE] FOREIGN KEY ([ID_UTENTE_VALIDATORE]) REFERENCES [dbo].[UTENTI] ([ID_UTENTE])
);

