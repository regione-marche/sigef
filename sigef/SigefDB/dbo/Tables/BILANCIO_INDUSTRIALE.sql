CREATE TABLE [dbo].[BILANCIO_INDUSTRIALE] (
    [ID_BILANCIO_INDUSTRIALE]  INT             IDENTITY (1, 1) NOT NULL,
    [ID_IMPRESA]               INT             NULL,
    [ID_PROGETTO]              INT             NULL,
    [ANNO]                     INT             NOT NULL,
    [DATA_BILANCIO]            DATETIME        NOT NULL,
    [PREVISIONALE]             BIT             NULL,
    [DATA_MODIFICA]            DATETIME        NULL,
    [PLV_RICAVI_VENDITA]       DECIMAL (15, 2) NULL,
    [PLV_ALTRI_RICAVI]         DECIMAL (15, 2) NULL,
    [CP_MATERIE_PRIME]         DECIMAL (15, 2) NULL,
    [CP_SERVIZI]               DECIMAL (15, 2) NULL,
    [CP_BENI_TERZI]            DECIMAL (15, 2) NULL,
    [CP_PERSONALE]             DECIMAL (15, 2) NULL,
    [CP_AMM_SVALUTAZIONI]      DECIMAL (15, 2) NULL,
    [CP_VAR_RIMANENZE]         DECIMAL (15, 2) NULL,
    [CP_ONERI]                 DECIMAL (15, 2) NULL,
    [POF_ALTRI_PROVENTI]       DECIMAL (15, 2) NULL,
    [POF_INTERESSI_ONERI]      DECIMAL (15, 2) NULL,
    [RETT_VAL_ATT_FINANZIARIE] DECIMAL (15, 2) NULL,
    [POS_PROVENTI_STRAORD]     DECIMAL (15, 2) NULL,
    [POS_ONERI_STRAORD]        DECIMAL (15, 2) NULL,
    [TOT_PRIMA_IMPOSTE]        DECIMAL (15, 2) NULL,
    [IMPOSTE_REDDITO]          DECIMAL (15, 2) NULL,
    [TA_CREDITI_SOCI]          DECIMAL (15, 2) NULL,
    [TA_IMM_IMMATERIALI]       DECIMAL (15, 2) NULL,
    [TA_IMMOB_MATERIALI]       DECIMAL (15, 2) NULL,
    [TA_IMM_PARTECIPAZIONI]    DECIMAL (15, 2) NULL,
    [TA_IMM_CREDITI]           DECIMAL (15, 2) NULL,
    [TA_AC_RIMANENZE]          DECIMAL (15, 2) NULL,
    [TA_AC_CREDITI_CLIENTI]    DECIMAL (15, 2) NULL,
    [TA_AC_CREDITI_ALTRI]      DECIMAL (15, 2) NULL,
    [TA_AC_DEP_POSTALI]        DECIMAL (15, 2) NULL,
    [TA_AC_DISPO_LIQUIDE]      DECIMAL (15, 2) NULL,
    [TA_RATEI_RISCONTI]        DECIMAL (15, 2) NULL,
    [TP_PN_CAPITALE]           DECIMAL (15, 2) NULL,
    [TP_PN_SOVRAP_AZIONI]      DECIMAL (15, 2) NULL,
    [TP_PN_RIS_RIVALUTAZIONE]  DECIMAL (15, 2) NULL,
    [TP_PN_RIS_LEGALE]         DECIMAL (15, 2) NULL,
    [TP_PN_AZIONI_PROPRIE]     DECIMAL (15, 2) NULL,
    [TP_PN_RISERVA_904]        DECIMAL (15, 2) NULL,
    [TP_PN_RISERVE_STATUTARIE] DECIMAL (15, 2) NULL,
    [TP_PN_ALTRE_RISERVE]      DECIMAL (15, 2) NULL,
    [TP_PN_UTILI_PRECEDENTI]   DECIMAL (15, 2) NULL,
    [TP_PN_UTILI_ESERCIZIO]    DECIMAL (15, 2) NULL,
    [TP_FONDI_RISCHI_ONERI]    DECIMAL (15, 2) NULL,
    [TP_FINE_RAPPORTO]         DECIMAL (15, 2) NULL,
    [TP_DEBITI_BANCHE]         DECIMAL (15, 2) NULL,
    [TP_DEBITI_FINANZIATORI]   DECIMAL (15, 2) NULL,
    [TP_DEBITI_FORNITORI]      DECIMAL (15, 2) NULL,
    [TP_DEBITI_IST_PREVID]     DECIMAL (15, 2) NULL,
    [TP_ALTRI_DEBITI]          DECIMAL (15, 2) NULL,
    [TP_RATEI_RISCONTI]        DECIMAL (15, 2) NULL,
    [NOTA_INTEGRATIVA]         VARCHAR (MAX)   NULL,
    CONSTRAINT [PK_BILANCIO_INDUSTRIALE] PRIMARY KEY CLUSTERED ([ID_BILANCIO_INDUSTRIALE] ASC) WITH (FILLFACTOR = 80),
    CONSTRAINT [FK_BILANCIO_INDUSTRIALE_IMPRESA] FOREIGN KEY ([ID_IMPRESA]) REFERENCES [dbo].[IMPRESA] ([ID_IMPRESA]),
    CONSTRAINT [FK_BILANCIO_INDUSTRIALE_PROGETTO] FOREIGN KEY ([ID_PROGETTO]) REFERENCES [dbo].[PROGETTO] ([ID_PROGETTO])
);


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_BILANCIO_INDUSTRIALE]
    ON [dbo].[BILANCIO_INDUSTRIALE]([ID_IMPRESA] ASC, [ANNO] ASC, [ID_PROGETTO] ASC) WITH (FILLFACTOR = 80);

