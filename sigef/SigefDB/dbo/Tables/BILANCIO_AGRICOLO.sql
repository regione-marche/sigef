CREATE TABLE [dbo].[BILANCIO_AGRICOLO] (
    [ID_BILANCIO_AGRICOLO]       INT             IDENTITY (1, 1) NOT NULL,
    [ID_IMPRESA]                 INT             NULL,
    [ID_PROGETTO]                INT             NULL,
    [ANNO]                       INT             NOT NULL,
    [DATA_BILANCIO]              DATETIME        NOT NULL,
    [PREVISIONALE]               BIT             NULL,
    [DATA_MODIFICA]              DATETIME        NULL,
    [PLV_RICAVI_NETTI]           DECIMAL (15, 2) NULL,
    [PLV_RICAVI_ATTIVITA]        DECIMAL (15, 2) NULL,
    [PLV_RIMANENZE_FINALI]       DECIMAL (15, 2) NULL,
    [PLV_RIMANENZE_INIZIALI]     DECIMAL (15, 2) NULL,
    [VA_COSTI_MAT_PRIME]         DECIMAL (15, 2) NULL,
    [VA_COSTI_ATT_CONNESSE]      DECIMAL (15, 2) NULL,
    [VA_NOLEGGI]                 DECIMAL (15, 2) NULL,
    [VA_MANUTENZIONI]            DECIMAL (15, 2) NULL,
    [VA_SPESE_GENERALI]          DECIMAL (15, 2) NULL,
    [VA_AFFITTI]                 DECIMAL (15, 2) NULL,
    [VA_ALTRI_COSTI]             DECIMAL (15, 2) NULL,
    [PN_AMM_MACCHINE]            DECIMAL (15, 2) NULL,
    [PN_AMM_FABBRICATI]          DECIMAL (15, 2) NULL,
    [PN_AMM_PIANTAGIONI]         DECIMAL (15, 2) NULL,
    [RO_SALARI]                  DECIMAL (15, 2) NULL,
    [RO_ONERI]                   DECIMAL (15, 2) NULL,
    [RN_PAC_RICAVI]              DECIMAL (15, 2) NULL,
    [RN_PAC_COSTI]               DECIMAL (15, 2) NULL,
    [RN_PAC_PROVENTI]            DECIMAL (15, 2) NULL,
    [RN_PAC_PERDITE]             DECIMAL (15, 2) NULL,
    [RN_PAC_INTERESSI_ATTIVI]    DECIMAL (15, 2) NULL,
    [RN_PAC_INTERESSI_PASSIVI]   DECIMAL (15, 2) NULL,
    [RN_PAC_IMPOSTE]             DECIMAL (15, 2) NULL,
    [RN_PAC_CONTRIBUTI_PAC]      DECIMAL (15, 2) NULL,
    [MNL_REDDITI_FAM]            DECIMAL (15, 2) NULL,
    [MNL_RIMBORSO]               DECIMAL (15, 2) NULL,
    [MNL_PRELIEVI]               DECIMAL (15, 2) NULL,
    [CF_CF_TERRENI]              DECIMAL (15, 2) NULL,
    [CF_CF_IMPIANTI]             DECIMAL (15, 2) NULL,
    [CF_CF_PIANTAGIONI]          DECIMAL (15, 2) NULL,
    [CF_CF_MIGLIORAMENTI]        DECIMAL (15, 2) NULL,
    [CF_CA_MACCHINE]             DECIMAL (15, 2) NULL,
    [CF_CA_BESTIAME]             DECIMAL (15, 2) NULL,
    [CF_IF_PARTECIPAZIONI]       DECIMAL (15, 2) NULL,
    [CC_DF_RIMANENZE]            DECIMAL (15, 2) NULL,
    [CC_DF_ANTICIPAZIONI]        DECIMAL (15, 2) NULL,
    [CC_LD_CREDITI]              DECIMAL (15, 2) NULL,
    [CC_LI_BANCA]                DECIMAL (15, 2) NULL,
    [CC_LI_CASSA]                DECIMAL (15, 2) NULL,
    [FF_PC_DEBITI_BREVE_TERMINE] DECIMAL (15, 2) NULL,
    [FF_PC_FORNITORI]            DECIMAL (15, 2) NULL,
    [FF_PC_DEBITI]               DECIMAL (15, 2) NULL,
    [FF_PC_MUTUI]                DECIMAL (15, 2) NULL,
    [FF_MP_CAPITALE]             DECIMAL (15, 2) NULL,
    [FF_MP_RISERVE]              DECIMAL (15, 2) NULL,
    [FF_MP_UTILE]                DECIMAL (15, 2) NULL,
    CONSTRAINT [PK_BILANCIO_AGRICOLO] PRIMARY KEY CLUSTERED ([ID_BILANCIO_AGRICOLO] ASC) WITH (FILLFACTOR = 80),
    CONSTRAINT [FK_BILANCIO_AGRICOLO_IMPRESA] FOREIGN KEY ([ID_IMPRESA]) REFERENCES [dbo].[IMPRESA] ([ID_IMPRESA]),
    CONSTRAINT [FK_BILANCIO_AGRICOLO_PROGETTO] FOREIGN KEY ([ID_PROGETTO]) REFERENCES [dbo].[PROGETTO] ([ID_PROGETTO])
);


GO
CREATE UNIQUE NONCLUSTERED INDEX [IX_BILANCIO_AGRICOLO]
    ON [dbo].[BILANCIO_AGRICOLO]([ID_IMPRESA] ASC, [ANNO] ASC, [ID_PROGETTO] ASC) WITH (FILLFACTOR = 80);

