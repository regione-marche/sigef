CREATE TABLE [dbo].[REGISTRO_RECUPERO] (
    [ID_REGISTRO_RECUPERO]                   INT             IDENTITY (1, 1) NOT NULL,
    [DATA_INSERIMENTO]                       DATETIME        CONSTRAINT [DF_REGISTRO_RECUPERO_DATA_INSERIMENTO] DEFAULT (getdate()) NULL,
    [CF_INSERIMENTO]                         VARCHAR (16)    NULL,
    [DATA_MODIFICA]                          DATETIME        CONSTRAINT [DF_REGISTRO_RECUPERO_DATA_MODIFICA] DEFAULT (getdate()) NULL,
    [CF_MODIFICA]                            VARCHAR (16)    NULL,
    [ID_REGISTRO_IRREGOLARITA]               INT             NULL,
    [DATA_AVVIO]                             DATETIME        NULL,
    [DATA_PROBABILE_CONCLUSIONE]             DATETIME        NULL,
    [IMPORTO_DA_RECUPERARE_UE]               DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_NAZIONALE]        DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_PUBBLICO]         DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_PRIVATO]          DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_TOTALE]           DECIMAL (15, 2) NULL,
    [IMPORTO_DETRATTO_UE]                    DECIMAL (15, 2) NULL,
    [IMPORTO_DETRATTO_NAZIONALE]             DECIMAL (15, 2) NULL,
    [IMPORTO_DETRATTO_PUBBLICO]              DECIMAL (15, 2) NULL,
    [IMPORTO_DETRATTO_PRIVATO]               DECIMAL (15, 2) NULL,
    [IMPORTO_DETRATTO_TOTALE]                DECIMAL (15, 2) NULL,
    [IMPORTO_RECUPERATO_UE]                  DECIMAL (15, 2) NULL,
    [IMPORTO_RECUPERATO_NAZIONALE]           DECIMAL (15, 2) NULL,
    [IMPORTO_RECUPERATO_PUBBLICO]            DECIMAL (15, 2) NULL,
    [IMPORTO_RECUPERATO_PRIVATO]             DECIMAL (15, 2) NULL,
    [IMPORTO_RECUPERATO_TOTALE]              DECIMAL (15, 2) NULL,
    [SALDO_DA_RECUPERARE_UE]                 DECIMAL (15, 2) NULL,
    [SALDO_DA_RECUPERARE_NAZIONALE]          DECIMAL (15, 2) NULL,
    [SALDO_DA_RECUPERARE_PUBBLICO]           DECIMAL (15, 2) NULL,
    [SALDO_DA_RECUPERARE_PRIVATO]            DECIMAL (15, 2) NULL,
    [SALDO_DA_RECUPERARE_TOTALE]             DECIMAL (15, 2) NULL,
    [IMPORTO_VERSATO_UE]                     DECIMAL (15, 2) NULL,
    [IMPORTO_RITENUTO_STATO]                 DECIMAL (15, 2) NULL,
    [IMPORTO_INTERESSI_MORA]                 DECIMAL (15, 2) NULL,
    [IMPORTO_INTERESSI_LEGALI]               DECIMAL (15, 2) NULL,
    [IMPORTO_GESTIONE_PRATICA]               DECIMAL (15, 2) NULL,
    [DATA_CONCLUSIONE]                       DATETIME        NULL,
    [ID_PROCEDURE_AVVIATE]                   INT             NULL,
    [ID_TIPO_PROCEDURE_AVVIATE]              INT             NULL,
    [DATA_AVVIO_PROCEDURE]                   DATETIME        NULL,
    [DATA_PROBABILE_CONCLUSIONE_PROCEDURE]   DATETIME        NULL,
    [ID_TIPO_RECUPERO]                       INT             NULL,
    [ID_ORIGINE_RECUPERO]                    INT             NULL,
    [ID_STORICO_RECUPERO_PRECEDENTE]         INT             NULL,
    [ID_PROGETTO]                            INT             NULL,
    [STORICO]                                BIT             CONSTRAINT [DF_REGISTRO_RECUPERO_STORICO] DEFAULT ((0)) NULL,
    [DATA_REGISTRAZIONE_RITIRO]              DATETIME        NULL,
    [DATA_CERTIFICAZIONE_RECUPERO]           DATETIME        NULL,
    [DATA_CERTIFICAZIONE_RITIRO]             DATETIME        NULL,
    [DATA_CERTIFICAZIONE_NON_RECUPERABILITA] DATETIME        NULL,
    [GESTIONE_RATE]                          BIT             CONSTRAINT [DF_REGISTRO_RECUPERO_GESTIONE_RATE] DEFAULT ((0)) NULL,
    [NUMERO_RATE]                            INT             NULL,
    [INTERVALLO_RATE_MESI]                   INT             CONSTRAINT [DF_REGISTRO_RECUPERO_INTERVALLO_RATE_MESI] DEFAULT ((1)) NULL,
    [DATA_INIZIO_RATE]                       DATETIME        NULL,
    [IMPORTO_RATA]                           DECIMAL (15, 2) NULL,
    [SOGGETTO_REVOCA_FINANZIAMENTO]          VARCHAR (2000)  NULL,
    [ID_ATTO_RECUPERO]                       INT             NULL,
    [ID_ATTO_RITIRO]                         INT             NULL,
    [ID_ATTO_NON_RECUPERABILITA]             INT             NULL,
    [RECUPERABILE]                           BIT             CONSTRAINT [DF_REGISTRO_RECUPERO_RECUPERABILE] DEFAULT ((1)) NULL,
    [DATA_REGISTRAZIONE_NON_RECUPERABILITA]  DATETIME        NULL,
    [DATA_SEGNATURA]                         DATETIME        NULL,
    [SEGNATURA]                              VARCHAR (100)   NULL,
    CONSTRAINT [PK_REGISTRO_RECUPERO] PRIMARY KEY CLUSTERED ([ID_REGISTRO_RECUPERO] ASC),
    CONSTRAINT [FK_REGISTRO_RECUPERO__STORICO_REGISTRO_RECUPERO] FOREIGN KEY ([ID_STORICO_RECUPERO_PRECEDENTE]) REFERENCES [dbo].[REGISTRO_RECUPERO] ([ID_REGISTRO_RECUPERO]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_ATTI_NON_RECUPERABILITA] FOREIGN KEY ([ID_ATTO_NON_RECUPERABILITA]) REFERENCES [dbo].[ATTI] ([ID_ATTO]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_ATTI_RECUPERO] FOREIGN KEY ([ID_ATTO_RECUPERO]) REFERENCES [dbo].[ATTI] ([ID_ATTO]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_ATTI_RITIRO] FOREIGN KEY ([ID_ATTO_RITIRO]) REFERENCES [dbo].[ATTI] ([ID_ATTO]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_CODIFICA_GENERICA_ORIGINE_RECUPERO] FOREIGN KEY ([ID_ORIGINE_RECUPERO]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_CODIFICA_GENERICA_PROCEDURE_AVVIATE] FOREIGN KEY ([ID_PROCEDURE_AVVIATE]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_CODIFICA_GENERICA_TIPO_PROCEDURE_AVVIATE] FOREIGN KEY ([ID_TIPO_PROCEDURE_AVVIATE]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_CODIFICA_GENERICA_TIPO_RECUPERO] FOREIGN KEY ([ID_TIPO_RECUPERO]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_PROGETTO] FOREIGN KEY ([ID_PROGETTO]) REFERENCES [dbo].[PROGETTO] ([ID_PROGETTO]),
    CONSTRAINT [FK_REGISTRO_RECUPERO_REGISTRO_IRREGOLARITA] FOREIGN KEY ([ID_REGISTRO_IRREGOLARITA]) REFERENCES [dbo].[REGISTRO_IRREGOLARITA] ([ID_IRREGOLARITA])
);

