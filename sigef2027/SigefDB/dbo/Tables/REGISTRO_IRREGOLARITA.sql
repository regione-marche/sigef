CREATE TABLE [dbo].[REGISTRO_IRREGOLARITA] (
    [ID_IRREGOLARITA]                              INT             IDENTITY (1, 1) NOT NULL,
    [ID_PROGETTO]                                  INT             NULL,
    [ID_DOMANDA_PAGAMENTO]                         INT             NULL,
    [CF_INSERIMENTO]                               VARCHAR (16)    NULL,
    [DATA_INSERIMENTO]                             DATETIME        CONSTRAINT [DF_REGISTRO_IRREGOLARITA_DATA_INSERIMENTO] DEFAULT (getdate()) NULL,
    [CF_MODIFICA]                                  VARCHAR (16)    NULL,
    [DATA_MODIFICA]                                DATETIME        CONSTRAINT [DF_REGISTRO_IRREGOLARITA_DATA_MODIFICA] DEFAULT (getdate()) NULL,
    [ID_CONTROLLO_ORIGINE]                         INT             NULL,
    [DESCRIZIONE_CONTROLLO_ESTERNO]                VARCHAR (MAX)   NULL,
    [SEGNALAZIONE_OLAF]                            BIT             NULL,
    [DATA_SEGNALAZIONE]                            DATETIME        CONSTRAINT [DF_REGISTRO_IRREGOLARITA_DATA_SEGNALAZIONE] DEFAULT (getdate()) NULL,
    [TRIMESTRE_SEGNALAZIONE]                       VARCHAR (100)   NULL,
    [NUMERO_RIFERIMENTO_OLAF]                      VARCHAR (10)    NULL,
    [SOSPETTO_FRODE]                               BIT             NULL,
    [IMPORTO_IRREGOLARE_CERTIFICATO]               DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARE_DA_RECUPERARE]             DECIMAL (15, 2) NULL,
    [ID_FONDO]                                     INT             NULL,
    [ANNO]                                         INT             NULL,
    [PERIODO_PROGRAMMAZIONE]                       VARCHAR (500)   NULL,
    [NUMERO_RIFERIMENTO_NAZIONALE]                 VARCHAR (50)    NULL,
    [DATA_CREAZIONE_IDENTIFICAZIONE]               DATETIME        NULL,
    [TRIMESTRE_IDENTIFICAZIONE]                    VARCHAR (100)   NULL,
    [PROCEDIMENTO_AMMINISTRATIVO]                  BIT             NULL,
    [AZIONE_GIUDIZIARIA]                           BIT             NULL,
    [AZIONE_PENALE]                                BIT             NULL,
    [ID_STATO_FINANZIARIO]                         INT             NULL,
    [DATA_PRIMA_INFORMAZIONE_SOSPETTO]             DATETIME        NULL,
    [FONTE_PRIMA_INFORMAZIONE_SOSPETTO]            VARCHAR (50)    NULL,
    [DATA_IRREGOLARITA]                            DATETIME        NULL,
    [DATA_IRREGOLARITA_DA]                         DATETIME        NULL,
    [DATA_IRREGOLARITA_A]                          DATETIME        NULL,
    [ID_IMPRESA_COMMESSA_DA]                       INT             NULL,
    [NOTE_COMMESSA_DA]                             VARCHAR (MAX)   NULL,
    [COMMESSA_A]                                   VARCHAR (MAX)   NULL,
    [ID_CATEGORIA_IRREGOLARITA]                    INT             NULL,
    [ID_TIPO_IRREGOLARITA]                         INT             NULL,
    [MODUS_OPERANDI]                               VARCHAR (MAX)   NULL,
    [DICHIARAZIONE_OPERATORE]                      VARCHAR (MAX)   NULL,
    [ACCERTAMENTI_AMMINISTRATORE]                  VARCHAR (MAX)   NULL,
    [ID_CLASSIFICAZIONE_IRREGOLARITA]              INT             NULL,
    [DATA_PRIMO_ATTO_CONSTATAZIONE_AMMINISTRATIVO] DATETIME        NULL,
    [ID_MOTIVO_ESECUZIONE_CONTROLLO]               INT             NULL,
    [ID_TIPO_CONTROLLO]                            INT             NULL,
    [ID_CONTROLLO_PRIMA_DOPO_PAGAMENTO]            INT             NULL,
    [AUTORITA_CONTROLLO]                           VARCHAR (100)   NULL,
    [INDAGINE_OLAF]                                BIT             NULL,
    [IMPORTO_SPESA_UE]                             DECIMAL (15, 2) NULL,
    [IMPORTO_SPESA_NAZIONALE]                      DECIMAL (15, 2) NULL,
    [IMPORTO_SPESA_PUBBLICO]                       DECIMAL (15, 2) NULL,
    [IMPORTO_SPESA_PRIVATO]                        DECIMAL (15, 2) NULL,
    [IMPORTO_SPESA_TOTALE]                         DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_UE]                      DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_NAZIONALE]               DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_PUBBLICO]                DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_PRIVATO]                 DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_TOTALE]                  DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_NON_PAGATO_UE]           DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_NON_PAGATO_NAZIONALE]    DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_NON_PAGATO_PUBBLICO]     DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_NON_PAGATO_PRIVATO]      DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_NON_PAGATO_TOTALE]       DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_PAGATO_UE]               DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_PAGATO_NAZIONALE]        DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_PAGATO_PUBBLICO]         DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_PAGATO_PRIVATO]          DECIMAL (15, 2) NULL,
    [IMPORTO_IRREGOLARITA_PAGATO_TOTALE]           DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_UE]                     DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_NAZIONALE]              DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_PUBBLICO]               DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_PRIVATO]                DECIMAL (15, 2) NULL,
    [IMPORTO_DA_RECUPERARE_TOTALE]                 DECIMAL (15, 2) NULL,
    [SPESA_DECERTIFICATA]                          BIT             NULL,
    [COMMENTI_IMPATTO_FINANZIARIO]                 VARCHAR (MAX)   NULL,
    [STABILITA_OPERAZIONI]                         BIT             NULL,
    CONSTRAINT [PK_REGISTRO_IRREGOLARITA] PRIMARY KEY CLUSTERED ([ID_IRREGOLARITA] ASC),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_CATEGORIA_IRREGOLARITA] FOREIGN KEY ([ID_CATEGORIA_IRREGOLARITA]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_CLASSIFICAZIONE_IRREGOLARITA] FOREIGN KEY ([ID_CLASSIFICAZIONE_IRREGOLARITA]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_CONTROLLO_ORIGINE] FOREIGN KEY ([ID_CONTROLLO_ORIGINE]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_CONTROLLO_PRIMA_DOPO_PAGAMENTO] FOREIGN KEY ([ID_CONTROLLO_PRIMA_DOPO_PAGAMENTO]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_FONDO] FOREIGN KEY ([ID_FONDO]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_MOTIVO_ESECUZIONE_CONTROLLO] FOREIGN KEY ([ID_MOTIVO_ESECUZIONE_CONTROLLO]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_STATO_FINANZIARIO] FOREIGN KEY ([ID_STATO_FINANZIARIO]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_TIPO_CONTROLLO] FOREIGN KEY ([ID_TIPO_CONTROLLO]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_CODIFICA_GENERICA_TIPO_IRREGOLARITA] FOREIGN KEY ([ID_TIPO_IRREGOLARITA]) REFERENCES [dbo].[CODIFICA_GENERICA] ([ID]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_DOMANDA_DI_PAGAMENTO] FOREIGN KEY ([ID_DOMANDA_PAGAMENTO]) REFERENCES [dbo].[DOMANDA_DI_PAGAMENTO] ([ID_DOMANDA_PAGAMENTO]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_PROGETTO] FOREIGN KEY ([ID_PROGETTO]) REFERENCES [dbo].[PROGETTO] ([ID_PROGETTO]),
    CONSTRAINT [FK_REGISTRO_IRREGOLARITA_REGISTRO_IRREGOLARITA] FOREIGN KEY ([ID_IRREGOLARITA]) REFERENCES [dbo].[REGISTRO_IRREGOLARITA] ([ID_IRREGOLARITA])
);

